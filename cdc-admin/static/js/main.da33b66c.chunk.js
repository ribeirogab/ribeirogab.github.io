(this["webpackJsonpcdc-admin"]=this["webpackJsonpcdc-admin"]||[]).push([[0],{33:function(e,t,a){e.exports=a(65)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),u=(a(38),a(39),a(40),a(10)),o=a(8);function m(){var e="menu-item-divided pure-menu-selected",t=window.location.pathname,a="/"===t?"pure-menu-item ".concat(e):"pure-menu-item",n="/author"===t?"pure-menu-item ".concat(e):"pure-menu-item",l="/book"===t?"pure-menu-item ".concat(e):"pure-menu-item";return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"#menu",id:"menuLink",className:"menu-link"},r.a.createElement("span",null)),r.a.createElement("div",{id:"menu"},r.a.createElement("div",{className:"pure-menu"},r.a.createElement(u.b,{className:"pure-menu-heading",to:"#"},"Company"),r.a.createElement("ul",{className:"pure-menu-list"},r.a.createElement("li",{className:a},r.a.createElement(u.b,{to:"/",className:"pure-menu-link"},"Home")),r.a.createElement("li",{className:n},r.a.createElement(u.b,{to:"/author",className:"pure-menu-link"},"Author")),r.a.createElement("li",{className:l},r.a.createElement(u.b,{to:"/book",className:"pure-menu-link"},"Book"))))))}function s(e){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,e.title))}function i(){return document.title="Home",r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("div",{id:"main"},r.a.createElement(s,{title:"Welcome to the System"})))}var p=a(6),E=a.n(p),d=a(9),f=a(2),b=a(12),h=a.n(b),v=a(32),j=a.n(v).a.create({baseURL:"http://localhost:3333"});function O(e){return r.a.createElement("div",{className:"pure-control-group"},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("input",{id:e.id,type:e.type,name:e.name,value:e.value,onChange:e.set}),"\xa0\xa0",r.a.createElement("span",{className:"error"},e.error))}function g(e){return r.a.createElement("div",{className:"pure-control-group"},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("select",{id:e.id,name:e.name,onChange:e.set},r.a.createElement("option",{value:""},"Select an option"),e.authorList.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.id,": ",e.name)}))),"\xa0\xa0",r.a.createElement("span",{className:"error"},e.error))}function y(e){return r.a.createElement("div",{className:"pure-control-group"},r.a.createElement("label",null),r.a.createElement("button",{type:"submit",className:"pure-button pure-button-primary"},e.textButton))}var k=a(14),N=a(15),w=function(){function e(){Object(k.a)(this,e)}return Object(N.a)(e,null,[{key:"generateErrors",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=Object.keys(e);r.map((function(t,n){return a[n](e[t])}))}},{key:"clearErrors",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];t.forEach((function(e){return e("")}))}},{key:"verifyForm",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.some((function(e){return 0===e.length}))}}]),e}();function S(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),u=Object(f.a)(c,2),o=u[0],m=u[1],s=Object(n.useState)(""),i=Object(f.a)(s,2),p=i[0],b=i[1],v=Object(n.useState)(""),g=Object(f.a)(v,2),k=g[0],N=g[1],S=Object(n.useState)(""),x=Object(f.a)(S,2),A=x[0],B=x[1],F=Object(n.useState)(""),L=Object(f.a)(F,2),C=L[0],D=L[1],I=Object(n.useState)(""),R=Object(f.a)(I,2),q=R[0],H=R[1];function J(){return(J=Object(d.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j.post("/register/authors",{name:a,email:o,password:p});case 3:if(400!==(n=e.sent).data.status){e.next=7;break}return w.generateErrors(n.data.error,N,B,D),e.abrupt("return");case 7:H(n.data.message),h.a.publish("updateAuthorsList",n.data.current),w.clearErrors(N,B,D),l(""),m(""),b(""),document.querySelector("#name").focus();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"pure-form pure-form-aligned"},r.a.createElement("br",null),r.a.createElement("form",{className:"pure-form pure-form-aligned",onSubmit:function(e){return J.apply(this,arguments)}},r.a.createElement(O,{id:"name",type:"text",name:"name",value:a,set:function(e){return l(e.target.value)},error:k,label:"Name"}),r.a.createElement(O,{id:"email",type:"email",name:"email",value:o,set:function(e){return m(e.target.value)},error:A,label:"Email"}),r.a.createElement(O,{id:"password",type:"password",name:"password",value:p,set:function(e){return b(e.target.value)},error:C,label:"Password"}),r.a.createElement(y,{textButton:"Save"})),r.a.createElement("br",null),r.a.createElement("span",null,q))}function x(e){return r.a.createElement("div",null,r.a.createElement("table",{className:"pure-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"))),r.a.createElement("tbody",null,e.authors.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email))})))))}function A(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}var B=function(){function e(){Object(k.a)(this,e)}return Object(N.a)(e,null,[{key:"wrap",value:function(e){var t=Object(n.useState)([]),a=Object(f.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){function t(){return(t=Object(d.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.get("/".concat(e));case 2:a=t.sent,l(a.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),console.log(A(e)),h.a.subscribe("update".concat(A(e),"List"),(function(e,t){return l(t)})),r}}]),e}();function F(){document.title="Author";var e=B.wrap("authors");return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("div",{id:"main"},r.a.createElement(s,{title:"Registration of Authors"}),r.a.createElement("div",{className:"content",id:"content"},r.a.createElement(S,null),r.a.createElement(x,{authors:e}))))}function L(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),u=Object(f.a)(c,2),o=u[0],m=u[1],s=Object(n.useState)(""),i=Object(f.a)(s,2),p=i[0],b=i[1],v=Object(n.useState)(""),k=Object(f.a)(v,2),N=k[0],S=k[1],x=Object(n.useState)([]),A=Object(f.a)(x,2),B=A[0],F=A[1],L=Object(n.useState)(""),C=Object(f.a)(L,2),D=C[0],I=C[1];function R(){return(R=Object(d.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j.post("/register/books",{name:a,author:o});case 3:if(400!==(n=e.sent).data.status){e.next=7;break}return w.generateErrors(n.data.error,b,S),e.abrupt("return");case 7:I(n.data.message),h.a.publish("updateBooksList",n.data.current),w.clearErrors(b,S),l(""),m(""),document.querySelector("#name").focus();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/authors");case 2:t=e.sent,F(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"pure-form pure-form-aligned"},r.a.createElement("br",null),r.a.createElement("form",{className:"pure-form pure-form-aligned",onSubmit:function(e){return R.apply(this,arguments)}},r.a.createElement(O,{id:"name",type:"text",name:"name",value:a,set:function(e){return l(e.target.value)},error:p,label:"Name"}),r.a.createElement(g,{id:"author",name:"author",authorList:B,set:function(e){return m(e.target.value)},error:N,label:"Author"}),r.a.createElement(y,{textButton:"Save"})),r.a.createElement("br",null),r.a.createElement("span",null,D))}function C(e){return r.a.createElement("div",null,r.a.createElement("table",{className:"pure-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Author"))),r.a.createElement("tbody",null,e.books.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.author))})))))}function D(){document.title="Book";var e=B.wrap("books");return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("div",{id:"main"},r.a.createElement(s,{title:"Registration of Books"}),r.a.createElement("div",{className:"content",id:"content"},r.a.createElement(L,null),r.a.createElement(C,{books:e}))))}function I(){return r.a.createElement(u.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:i}),r.a.createElement(o.a,{path:"/author",component:F}),r.a.createElement(o.a,{path:"/book",component:D})))}c.a.render(r.a.createElement((function(){return r.a.createElement("div",{id:"layout"},r.a.createElement(I,null))}),null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.da33b66c.chunk.js.map